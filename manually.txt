Following this: https://artyom.dev/notarizing-go-binaries-for-macos.html
and
https://g3rv4.com/2019/06/bundling-signing-notarizing-go-application

codesign -s 1F351CAB02229C4B95284A4F8E03313B71BBE701 -v --timestamp --options runtime main

From: https://support.apple.com/en-us/HT204397
Your app-specific password is: yccj-ocpy-qkkc-wgcr

xcrun altool --store-password-in-keychain-item altool \
    -u awear@appsyouwear.com \
    -p yccj-ocpy-qkkc-wgcr


hdiutil create -fs HFS+ -srcfolder "$1" -volname "$2" "$2.dmg"
hdiutil create -fs HFS+ -srcfolder "./" -volname "newdist" "appbrew.dmg"

// ditto -c -k --keepParent --rsrc MyPlugin.glyphsReporter MyPlugin.glyphsReporter.notarize.zip
ditto -c -k --keepParent main main.zip

Submit you binary:
xcrun altool --notarize-app \
    --primary-bundle-id appbrew.appsyouwear.com \
    --username awear@appsyouwear.com \
    --password "@keychain:altool" \
    --file main.zip

Check status:
xcrun altool --notarization-info  5567659c-d728-46de-8929-ce2ed07df855 -u awear@appsyouwear.com

Ticket Stapling(so that users can open it even without internet access):
xcrun stapler staple main

xcrun altool --list-providers -u awear@appsyouwear.com -p yccj-ocpy-qkkc-wgcr

xcode 13 - when released, upgrade to use "xcrun notarytool" instead of "xcrun altool"
https://scriptingosx.com/2021/07/notarize-a-command-line-tool-with-notarytool/
Search for webhook to setup a callback url? "There is also a --webhook option mentioned in the WWDC session"
xcrun notarytool history --keychain-profile yccj-ocpy-qkkc-wgcr


hdiutil create /tmp/tmp.dmg -ov -volname "RecitalInstall" -fs HFS+ -srcfolder "/tmp/macosxdist/"